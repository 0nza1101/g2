<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,height=device-height">
  <title>尖底漏斗图</title>
  <style>
    ::-webkit-scrollbar {
      display: none;
    }
    html, body {
      overflow: hidden;
      height: 100%;
      margin: 0;
    }
  </style>
</head>
<body>
  <div id="mountNode"></div>
  <script>/* Fixing iframe window.innerHeight 0 issue in Safari*/document.body.clientHeight;
</script>
  <script src="./assets/data-set.min.js"></script>
  <script src="../build/g2.js"></script>
  <script>
    const data = [{
      action: '浏览网站',
      pv: 50000
    }, {
      action: '放入购物车',
      pv: 35000
    }, {
      action: '生成订单',
      pv: 25000
    }, {
      action: '支付订单',
      pv: 15000
    }, {
      action: '完成交易',
      pv: 8000
    }];

    const chart = new G2.Chart({
      container: 'mountNode',
      forceFit: true,
      height: window.innerHeight,
      padding: [ 20, 120, 95 ]
    });
    chart.source(data);
    chart.axis(false);
    chart.coord('rect').transpose().scale(1, -1);
    chart.intervalSymmetric()
      .position('action*pv')
      .shape('pyramid')
      .color('action', [ '#0050B3', '#1890FF', '#40A9FF', '#69C0FF', '#BAE7FF' ])
      .label('action*pv', function(action, pv) {
        return action + ' ' + pv;
      }, {
        offset: 35,
        labelLine: {
          lineWidth: 1,
          stroke: 'rgba(0, 0, 0, 0.15)'
        }
      });
    chart.render();
  </script>
</body>

</html>
